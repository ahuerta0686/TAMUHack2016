<template name="trip_details">
  <div class="row">
    <div class="col-sm-12">
      <h3>{{title}}</h3>
      <div class="form-group btn-group btn-group-justified">
        <div class="btn-group">
          {{#if joined}}
          <a class="btn btn-lg btn-primary disabled">You're In</a>
          {{else}}
          <a href="{{pathFor route='trip.join' data=getPost}}" class="btn btn-lg btn-primary">Join Trip</a>
          {{/if}}
        </div>
      </div>

      <div class="list-group">
        {{#each participants}}
        <div class="list-group-item">
          <span class="pull-left">{{userFullName userId}}</span>
          <span class="pull-right">
            {{#if this.leader}}
            <i class="fa fa-user"></i> 
            {{/if}}
            {{#if (driver passengerType)}}
            <i class="fa fa-car"></i>
            {{/if}}
            {{#if carNo}}
            ({{carNo}})
            {{/if}}
          </span>
          <div class="clearfix"></div>
        </div>
        {{/each}}
      </div>

      <h4>Information</h4>
      <p><strong>Status:</strong> {{status}}</p>
      <p><strong># of Participants:</strong> {{participants.length}}</p>
      <p><strong>Round-Trip:</strong> {{#if roundTrip}}Yes{{else}}No{{/if}}</p>
      <p><strong>Departure Date:</strong> {{departureDate}}</p>
      <p><strong>Deadline to Join:</strong> {{registrationDeadline}}</p>
      <p><strong>Share Link:</strong> <a href="{{urlFor route='trip.details' data=getPost}}">{{urlFor route='trip.details' data=getPost}}</a></p>

      {{#if joined}}
      <h4>Options</h4>
      <div class="form-group btn-group btn-group-justified">
        <div class="btn-group">
          <button class="btn btn-lg btn-danger" id="general-leave-trip">Leave Trip</button>
        </div>
      </div>
      {{/if}}

      {{#if driver}}
      <h4>Driver Options</h4>
      <div class="form-group btn-group btn-group-justified">
        <div class="btn-group">
          <button class="btn btn-lg btn-primary disabled">Prefer Passengers</button>
        </div>
      </div>
      {{/if}}

      {{#if leader}}
      <h4>Leader Options</h4>
      <div class="form-group btn-group btn-group-justified">
        <div class="btn-group">
          <button class="btn btn-lg btn-success" id="leader-assign-trip">Auto-Assign Carpools</button>
        </div>
      </div>
      <div class="form-group btn-group btn-group-justified">
        <div class="btn-group">
          <button class="btn btn-lg btn-danger" id="leader-delete-trip">Delete Trip</button>
        </div>
      </div>
      {{/if}}
    </div>
  </div>
</template>

<template name="trip_details_planning">
  
</template>

<template name="trip_details_pretrip">
  
</template>

<template name="trip_details_traveling">
  
</template>

<template name="trip_details_destination">
  
</template>
